{
  "featureTypeName": "decsiraogc_controlli_scarichi_urbani:ControlliScarichiUrbani",
  "featureTypeNameLabel": "Controllo Scarichi Acque Reflue",
  "profiles": ["PA_GEN_DECSIRA@REG_PMN"],
  "nameSpaces": {
    "decsiraogc_controlli_scarichi_urbani": "http://www.regione.piemonte.it/ambiente/decsira/1.0",
    "decsiraogc_decodif": "http://www.regione.piemonte.it/ambiente/decodif/1.0"
  },
  "layer": {
    "type": "wms",
    "url": "{geoserverUrl}/wms",
    "visibility": true,
    "title": "Controllo Scarichi Acque Reflue",
    "name": "decsiraogc_controlli_scarichi_urbani:ControlliScarichiUrbani",
    "infoFormat": "application/vnd.ogc.gml/3.1.1",
    "featureType": "scarichi",
	"params": {
		"featureType": "scarichi"
	},
    "group": "Oggetti",
    "format": "image/png"
  },
  "geometryName": "decsiraogc_controlli_scarichi_urbani:geometria",
  "geometryType": "Point",
  "featureinfo": {
    "templateURL": "assets/infoTemplateControlliScarichiUrbani.jsxt"
  },
   "exporter": {
	"exportAsync": false,
	"wpsUrl": "{gsdownloadUrl}/ows?service=WPS"
  },
  "featuregrid": {
    "grid": {
      "root": "/wfs:FeatureCollection/wfs:member/decsiraogc_controlli_scarichi_urbani:ControlliScarichiUrbani",
      "columns": [
        {
          "hide":true,
          "headerName": "Geometry",
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:geometria/gml:Point/gml:pos/text()"
          ],
          "suppressSorting": true,
          "type": 6
        },
        {
          "hide": true,
          "headerName": "Ragione sociale Gestore impianto di depurazione",
          "width":150,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:rag_sociale_azienda/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Codice Fiscale Gestore impianto di depurazione",
          "width":120,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:codice_fiscale_azienda/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "headerName": "Denominazione impianto di depurazione",
          "width":150,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:denominazione/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Comune impianto di depurazione",
          "width":120,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:comune_dep/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Provincia impianto di depurazione",
          "width":100,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:provincia_dep/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Indirizzo impianto di depurazione",
          "width":150,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:indirizzo_dep/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Codice SIRA stabilimento",
          "width":90,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:codice_sira/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "headerName": "Codice Regionale impianto di depurazione",
          "width":100,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:codice_regionale_imp/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Codice Europeo impianto di depurazione",
          "width":100,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:codice_europeo_imp/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Codice impianto anagrafica ARPA GAU",
          "width":120,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:arpa_imp_code_entity/text()"
          ],
          "profiles": ["B","PA_GEN_DECSIRA@REG_PMN"],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Capacit√† organica di progetto (a.e.)",
          "width":120,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:capacita_org_progetto/text()"
          ],
          "suppressSorting": true,
          "type": 1
        },
        {
          "hide": true,
          "headerName": "Carico totale Trattato (a.e.)",
          "width":120,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:abitanti_equiv_trattati/text()"
          ],
          "suppressSorting": true,
          "type": 1
        },
        {
          "hide": true,
          "headerName": "Limiti definiti D.lgs.152/2006, Allegato 5 Tabella 1",
          "width":120,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:limiti_dlgs152all5tab1/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Limiti definiti D.lgs.152/2006, Allegato 5 Tabella 2",
          "width":120,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:llimiti_dlgs152all5tab2/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Limiti definiti D.lgs.152/2006, Allegato 5 Tabella 3",
          "width":120,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:limiti_dlgs152all5tab3/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Riferimenti estremi autorizzativi ARPA GAU",
          "width":120,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:arpa_descrizione_autoriz/text()"
          ],
          "profiles": ["B","PA_GEN_DECSIRA@REG_PMN"],
          "suppressSorting": true,
          "type": 2
        },
        {
          "headerName": "Codice Regionale Scarico",
          "width":100,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:cod_regionale_scarico/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Codice Europeo Scarico",
          "width":100,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:cod_europeo_scarico/text()"
          ],
          "profiles": ["B","PA_GEN_DECSIRA@REG_PMN"],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Codice Scarico anagrafica ARPA GAU",
          "width":120,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:arpa_code_entity_scarico/text()"
          ],
          "profiles": ["B","PA_GEN_DECSIRA@REG_PMN"],
          "suppressSorting": true,
          "type": 2
        },
        {
          "headerName": "Comune Scarico",
          "width":120,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:comune_scarico/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Provincia Scarico",
          "width":100,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:provincia_scarico/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Coord X UTM32 Scarico",
          "width":50,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:coord_x/text()"
          ],
          "suppressSorting": true,
          "type": 1
        },
        {
          "hide": true,
          "headerName": "Coord Y UTM32 Scarico",
          "width":50,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:coord_y/text()"
          ],
          "suppressSorting": true,
          "type": 1
        },
        {
          "headerName": "Tipologia Punto controllo",
          "width":80,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:tipologia_punto_controllo/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "headerName": "Descrizione Punto controllo",
          "width":150,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:descrizione_punto_controllo/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "headerName": "Numero campione",
          "width":80,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:numero_campione/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "headerName": "Data campione",
          "width":100,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:data_campione/text()"
          ],
          "dateFormat": "DD/MM/YYYY",
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Anno campione",
          "width":100,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:anno_campione/text()"
          ],
          "suppressSorting": true,
          "type": 5
        },
        {
          "hide": true,
          "headerName": "Semestre campione",
          "width":100,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:semestre_campione/text()"
          ],
          "suppressSorting": true,
          "type": 5
        },
        {
          "headerName": "Descrizione campione",
          "width":150,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:descrizione_campione/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "headerName": "Numero Rapporto di Prova",
          "width":100,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:numero_rapp_di_prova/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Note Rapporto di Prova",
          "width":150,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:note_rapp_di_prova/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "headerName": "Parametro",
          "width":150,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:des_parametro/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Codice CAS",
          "width":150,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:cas/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Modalit√† di espressione riultato analitico",
          "width":150,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:modalita_espressione/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "headerName": "Unit√† di misura",
          "width":100,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:unita_di_misura/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "headerName": "Operatore",
          "width":80,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:operatore/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "headerName": "Valore misurato",
          "width":100,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:valore_base_number/text()"
          ],
          "suppressSorting": true,
          "type": 1
        },
        {
          "hide": true,
          "headerName": "Valore misurato (testo)",
          "width":100,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:valore_base/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Limite di Rilevabilit√† (LCL)",
          "width":80,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:limite_rilevabilita_lcl/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Incertezza Misura",
          "width":80,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:incertezza_misura/text()"
          ],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Codice Metodo",
          "width":80,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:codice_metodo/text()"
          ],
          "profiles": ["B","PA_GEN_DECSIRA@REG_PMN"],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Descrizione Metodo",
          "width":100,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:descrizione_metodo/text()"
          ],
          "profiles": ["B","PA_GEN_DECSIRA@REG_PMN"],
          "suppressSorting": true,
          "type": 2
        },
        {
          "hide": true,
          "headerName": "Fonte Campione",
          "width":80,
          "xpath": [
            "decsiraogc_controlli_scarichi_urbani:fonte_campione/text()"
          ],
          "suppressSorting": true,
          "type": 2
        }
      ]
    }
  },
  "query": {
    "service": {
      "url": "{geoserverUrl}/ows?service=WFS&request=GetFeature",
      "urlParams": {
        "version": "1.1.0",
        "outputFormat": "application/json"
      }
    },
    "fields": [
      {
        "index": 1,
        "attribute": "provincia_scarico",
        "label": "Provincia Scarico",
        "type": "list",
        "valueService": {
          "urlParams": {
            "typeName": "decsiraogc_decodif:sipra_t_province",
            "propertyName": "toponimo",
            "sortBy": "toponimo+A"
          }
        },
        "valueId": "toponimo",
        "valueLabel": "toponimo"
      },
      {
        "index": 2,
        "attribute": "comune_scarico",
        "label": "Comune Scarico",
        "type": "list",
        "valueService": {
          "urlParams": {
            "typeName": "decsiraogc_decodif:sipra_t_comuni",
            "propertyName": "toponimo,sigla_provincia",
            "sortBy": "toponimo+A"
          }
        },
        "valueId": "toponimo",
        "valueLabel": "toponimo",
        "dependson": {
          "field": "provincia_scarico",
          "from": "sigla",
          "to": "sigla_provincia"
        }
      },
      {
        "index": 3,
        "attribute": "rag_sociale_azienda",
        "label": "Ragione sociale Gestore impianto di depurazione",
        "type": "string"
      },
      {
        "index": 4,
        "attribute": "codice_fiscale_azienda",
        "label": "Codice Fiscale Gestore impianto di depurazione",
        "type": "string"
      },
      {
        "index": 5,
        "attribute": "denominazione",
        "label": "Denominazione impianto di depurazione",
        "type": "string"
      },
      {
        "index": 6,
        "attribute": "codice_sira",
        "label": "Codice SIRA stabilimento",
        "type": "number"
      },
      {
        "index": 7,
        "attribute": "codice_regionale_imp",
        "label": "Codice Regionale Impianto di depurazione",
        "type": "string"
      },
      {
        "index": 8,
        "attribute": "codice_europeo_imp",
        "label": "Codice Europeo Impianto di depurazione",
        "type": "string"
      },
      {
        "index": 9,
        "attribute": "capacita_org_progetto",
        "label": "Capacita organica di progetto (a.e.)",
        "type": "number"
      },
      {
        "index": 10,
        "attribute": "abitanti_equiv_trattati",
        "label": "Carico totale Trattato (a.e.)",
        "type": "number"
      },
      {
        "index": 11,
        "attribute": "limiti_dlgs152all5tab1",
        "label": "Limiti definiti D.lgs.152/2006, Allegato 5 Tabella 1",
        "type": "list",
        "values": [
          {
            "value": "si",
            "name": "SI"
          },
          {
            "value": "no",
            "name": "NO"
          }
        ],
        "valueId": "value",
        "valueLabel": "name"
      },
      {
        "index": 12,
        "attribute": "limiti_dlgs152all5tab2",
        "label": "Limiti definiti D.lgs.152/2006, Allegato 5 Tabella 2",
        "type": "list",
        "values": [
          {
            "value": "si",
            "name": "SI"
          },
          {
            "value": "no",
            "name": "NO"
          }
        ],
        "valueId": "value",
        "valueLabel": "name"
      },
      {
        "index": 13,
        "attribute": "limiti_dlgs152all5tab3",
        "label": "Limiti definiti D.lgs.152/2006, Allegato 5 Tabella 3",
        "type": "list",
        "values": [
          {
            "value": "si",
            "name": "SI"
          },
          {
            "value": "no",
            "name": "NO"
          }
        ],
        "valueId": "value",
        "valueLabel": "name"
      },
      {
        "index": 14,
        "attribute": "cod_regionale_scarico",
        "label": "Codice Regionale Scarico ",
        "type": "string"
      },
      {
        "index": 15,
        "attribute": "tipologia_punto_controllo",
        "label": "Tipologia Punto controllo",
        "type": "list",
        "values": [
          {
            "value": "ENTRATA",
            "name": "ENTRATA"
          },
          {
            "value": "USCITA",
            "name": "USCITA"
          }
        ],
        "valueId": "value",
        "valueLabel": "name"
      },
      {
        "index": 16,
        "attribute": "numero_campione",
        "label": "Numero campione",
        "type": "string"
      },
      {
        "index": 17,
        "attribute": "data_campione",
        "label": "Data campione",
        "type": "date",
        "fieldOptions": {
          "dateFormat": "DD/MM/YYYY"
        }
      },
      {
        "index": 18,
        "attribute": "anno_campione",
        "label": "Anno campione",
        "type": "list",
        "valueService": {
          "urlParams": {
            "typeName": "decsiraogc_decodif:decsira_d_anni_controlli_scaurb",
            "propertyName": "id_anno"
          }
        },
        "valueId":"id_anno",
        "valueLabel":"id_anno"
      },
      {
        "index": 19,
        "attribute": "semestre_campione",
        "label": "Semestre campione",
        "type": "list",
        "values": [
          {
            "value": "I",
            "name": "I SEMESTRE"
          },
          {
            "value": "II",
            "name": "II SEMESTRE"
          }
        ],
        "valueId": "value",
        "valueLabel": "name"
      },
      {
        "index": 20,
        "attribute": "numero_rapp_di_prova",
        "label": "Numero Rapporto di Prova",
        "type": "string"
      },
      {
        "index": 21,
        "attribute": "des_parametro",
        "label": "Parametro",
        "type": "list",
        "valueService": {
          "urlParams": {
            "typeName": "decsiraogc_decodif:decsira_d_param_controlli_scaurb",
            "propertyName": "decsiraogc_decodif:des_parametro",
            "sortBy": "des_parametro+A"
          }
        },
        "valueId": "des_parametro",
        "valueLabel": "des_parametro"
      },
      {
        "index": 22,
        "attribute": "valore_base_number",
        "label": "Valore misurato",
        "type": "number"
      }
    ]
  }
}
